<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <title>SnchzBroz Stream Backdrop</title>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="theme-color" content="#0b0f1a" />

  <!-- Manifest PWA -->
  <link rel="manifest" href="manifest.json">

  <!-- Favicon (sube estos archivos al repo) -->
  <link rel="icon" type="image/png" href="favicon.png" />
  <link rel="icon" type="image/x-icon" href="favicon.ico" />

  <!-- Roboto (opcional) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@700;900&display=swap" rel="stylesheet">

  <style>
    :root{ --card-bg: rgba(255,255,255,.08); --card-border: rgba(255,255,255,.10); --txt: rgba(255,255,255,.95); --shadow: 0 10px 30px rgba(0,0,0,.25); }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;background:#000;color:var(--txt);font-family: Roboto, system-ui, -apple-system, Segoe UI, Arial, sans-serif;}
    .app{position:relative;width:100vw;height:100vh;overflow:hidden;user-select:none}

    /* Fondo video */
    .bg{position:absolute;inset:0;z-index:-1;}
    .bg video{width:100%;height:100%;object-fit:cover;opacity:0;transition:opacity .5s ease}
    .bg video.ready{opacity:1}
    .bg .vignette{position:absolute;inset:0;background:linear-gradient(to bottom, rgba(0,0,0,.30), rgba(0,0,0,.10), rgba(0,0,0,.60));pointer-events:none}

    /* Like Fountain encima de todo (no bloquea clicks) */
    .like-fountain{position:absolute;inset:0;z-index:50;pointer-events:none}
    .like-fountain iframe{width:100%;height:100%;border:0}

    /* Tarjetas superiores - fila */
    .top-row{position:absolute;top:24px;left:24px;right:24px;display:grid;grid-template-columns:repeat(3,1fr);gap:16px}

    /* Marco neón (cada tarjeta con su glow propio) */
    .neon{position:relative;border-radius:16px;overflow:hidden;isolation:isolate;}
    .neon::before{
      content:"";position:absolute;inset:-6px;border-radius:inherit;filter:blur(18px);opacity:.9;z-index:0;pointer-events:none;
      animation:glowPulse 4.5s ease-in-out infinite;
    }
    .card-surface{position:relative;border-radius:inherit;background:var(--card-bg);border:1px solid var(--card-border);box-shadow:var(--shadow);}
    .neon-top::before{background: conic-gradient(from 0deg, rgba(255,0,255,.85), rgba(138,43,226,.85), rgba(255,0,255,.85));}
    .neon-greenblue::before{background: conic-gradient(from 0deg, rgba(0,255,128,.85), rgba(0,128,255,.85), rgba(0,255,128,.85));}
    @keyframes glowPulse{0%,100%{opacity:.45}50%{opacity:.9}}

    /* Tarjeta superior contenido */
    .top-card-inner{position:relative;display:flex;align-items:center;justify-content:center;height:96px;padding:8px}
    .top-title{
      position:absolute;top:6px;left:8px;z-index:2;font-weight:900;font-size:14px;letter-spacing:.2px;color:rgba(255,255,255,.92);
      text-shadow: 1px 1px 2px rgba(0,0,0,.9), -1px -1px 2px rgba(0,0,0,.9);
      pointer-events:none;user-select:none;
    }
    .badge{
      position:absolute;right:8px;bottom:6px;z-index:2;background: rgba(0,0,0,.55);color:var(--txt);border-radius:10px;font-weight:700;
      padding:6px 10px;font-size:13px;letter-spacing:.2px;white-space:nowrap;
      box-shadow:0 0 0 1px rgba(255,255,255,.15), 0 6px 16px rgba(0,0,0,.35);
    }
    .badge::before{
      content:"";position:absolute;inset:0;border-radius:inherit;padding:1px;
      -webkit-mask:linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
      -webkit-mask-composite:xor;mask-composite:exclude;
      filter:drop-shadow(0 0 10px rgba(255,255,255,.25));
      animation:badgeGlow 2.8s ease-in-out infinite;
    }
    .badge.follower::before{background:linear-gradient(90deg,#00ff80,#0080ff)}
    .badge.gift::before{background:linear-gradient(90deg,#ffd700,#ff8c00)}
    .badge.sub::before{background:linear-gradient(90deg,#ff00ff,#8a2be2)}
    @keyframes badgeGlow{0%,100%{opacity:.85}50%{opacity:1}}

    .top-card-inner iframe{width:100%;height:100%;border:0;border-radius:12px}

    /* Logo central y widget de alertas */
    .center-wrap{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;margin-top:4vh;}
    .logo-box{position:relative;width:min(44vw,820px);filter:drop-shadow(0 0 28px rgba(0,255,255,.28));animation:logoPulse 7s ease-in-out infinite;}
    .logo-box img{width:100%;height:auto;display:block;pointer-events:none;-webkit-user-drag:none}
    .logo-box .actions{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;pointer-events:none;}
    .logo-box .actions iframe{width:96%;height:80%;border:0}
    @keyframes logoPulse{0%,100%{transform:scale(1) translateY(0)}25%{transform:scale(1.05) translateY(-6px)}50%{transform:scale(1.08) translateY(0)}75%{transform:scale(1.05) translateY(6px)}}

    /* Carrusel redes (derecha->izquierda) */
    .socials{position:absolute;left:50%;bottom:20px;transform:translateX(-50%);width:92vw;max-width:1600px;z-index:40}
    .track{display:flex;gap:16px;animation:marqueeXRtl 30s linear infinite;will-change:transform}
    @keyframes marqueeXRtl{0%{transform:translateX(0)}100%{transform:translateX(-50%)}}
    .social-item{min-width:260px}
    .social-card{display:flex;align-items:center;justify-content:center;gap:16px;padding:12px 20px;border-radius:16px;background:var(--card-bg);border:1px solid var(--card-border)}
    .social-card img{width:48px;height:48px;object-fit:contain;filter:drop-shadow(0 2px 6px rgba(0,0,0,.35))}
    .social-handle{font-weight:900;font-size:28px;letter-spacing:.3px}

    /* Responsivo */
    @media (max-width:1024px){
      .top-row{grid-template-columns:1fr;gap:12px}
      .logo-box{width:70vw}
      .social-item{min-width:220px}
      .social-handle{font-size:22px}
    }
  </style>
</head>
<body>
  <div class="app" id="app">
    <!-- Like Fountain -->
    <div class="like-fountain">
      <iframe src="https://tikfinity.zerody.one/widget/likefountain?cid=615689" allow="autoplay" title="Like Fountain"></iframe>
    </div>

    <!-- Fondo video -->
    <div class="bg">
      <video id="bgVideo" autoplay muted loop playsinline
        poster="https://raw.githubusercontent.com/SnchzBroz/SnchzBroz/main/Nuevo%20Logo.png">
        <source src="https://raw.githubusercontent.com/SnchzBroz/SnchzBroz/main/Nuevo%20Azul.mp4" type="video/mp4" />
      </video>
      <div class="vignette"></div>
    </div>

    <!-- Tarjetas superiores -->
    <div class="top-row">
      <div class="neon neon-top">
        <div class="card-surface top-card-inner">
          <div class="top-title">Último Seguidor</div>
          <div id="badge-follower" class="badge follower"></div>
          <iframe src="https://tikfinity.zerody.one/widget/lastx?cid=615689&x=follower" title="Último seguidor" loading="lazy"></iframe>
        </div>
      </div>
      <div class="neon neon-top">
        <div class="card-surface top-card-inner">
          <div class="top-title">Último Regalo</div>
          <div id="badge-gift" class="badge gift"></div>
          <iframe src="https://tikfinity.zerody.one/widget/lastx?cid=615689&x=gifter" title="Último regalo" loading="lazy"></iframe>
        </div>
      </div>
      <div class="neon neon-top">
        <div class="card-surface top-card-inner">
          <div class="top-title">Último Suscriptor</div>
          <div id="badge-sub" class="badge sub"></div>
          <iframe src="https://tikfinity.zerody.one/widget/lastx?cid=615689&x=subscriber" title="Último suscriptor" loading="lazy"></iframe>
        </div>
      </div>
    </div>

    <!-- Logo + acciones -->
    <div class="center-wrap">
      <div class="logo-box">
        <img src="https://raw.githubusercontent.com/SnchzBroz/SnchzBroz/main/Nuevo%20Logo.png" alt="SnchzBroz" />
        <div class="actions">
          <iframe src="https://tikfinity.zerody.one/widget/myactions?cid=615689&screen=1" allow="autoplay" title="Notificaciones" loading="lazy"></iframe>
        </div>
      </div>
    </div>

    <!-- Carrusel redes sociales -->
    <div class="socials">
      <div class="track">
        <div class="track-inner" style="display:flex;gap:16px">
          <div class="social-item"><div class="neon neon-greenblue"><div class="card-surface social-card"><img src="https://cdn-icons-png.flaticon.com/128/3046/3046121.png" alt="TikTok"><div class="social-handle">@snchzbroz</div></div></div></div>
          <div class="social-item"><div class="neon neon-greenblue"><div class="card-surface social-card"><img src="https://cdn-icons-png.flaticon.com/128/174/174855.png" alt="Instagram"><div class="social-handle">@snchzbroz</div></div></div></div>
          <div class="social-item"><div class="neon neon-greenblue"><div class="card-surface social-card"><img src="https://cdn-icons-png.flaticon.com/128/5969/5969020.png" alt="X/Twitter"><div class="social-handle">@twittalien</div></div></div></div>
          <div class="social-item"><div class="neon neon-greenblue"><div class="card-surface social-card"><img src="https://cdn-icons-png.flaticon.com/128/1384/1384060.png" alt="YouTube"><div class="social-handle">snchzbroz</div></div></div></div>
          <div class="social-item"><div class="neon neon-greenblue"><div class="card-surface social-card"><img src="https://cdn-icons-png.flaticon.com/128/15713/15713413.png" alt="Twitch"><div class="social-handle">snchzbroz</div></div></div></div>
          <div class="social-item"><div class="neon neon-greenblue"><div class="card-surface social-card"><img src="https://cdn-icons-png.flaticon.com/128/906/906325.png" alt="Xbox"><div class="social-handle">snchzbroz</div></div></div></div>
          <div class="social-item"><div class="neon neon-greenblue"><div class="card-surface social-card"><img src="https://cdn-icons-png.flaticon.com/128/6646/6646449.png" alt="Fortnite"><div class="social-handle">snchzbroz</div></div></div></div>
          <div class="social-item"><div class="neon neon-greenblue"><div class="card-surface social-card"><img src="https://cdn-icons-png.flaticon.com/128/871/871377.png" alt="Nintendo"><div class="social-handle">snchzbroz</div></div></div></div>
          <div class="social-item"><div class="neon neon-greenblue"><div class="card-surface social-card"><img src="https://cdn-icons-png.flaticon.com/128/15069/15069134.png" alt="Roblox"><div class="social-handle">snchzbroz</div></div></div></div>
        </div>
        <div class="track-inner" style="display:flex;gap:16px">
          <div class="social-item"><div class="neon neon-greenblue"><div class="card-surface social-card"><img src="https://cdn-icons-png.flaticon.com/128/3046/3046121.png" alt="TikTok"><div class="social-handle">@snchzbroz</div></div></div></div>
          <div class="social-item"><div class="neon neon-greenblue"><div class="card-surface social-card"><img src="https://cdn-icons-png.flaticon.com/128/174/174855.png" alt="Instagram"><div class="social-handle">@snchzbroz</div></div></div></div>
          <div class="social-item"><div class="neon neon-greenblue"><div class="card-surface social-card"><img src="https://cdn-icons-png.flaticon.com/128/5969/5969020.png" alt="X/Twitter"><div class="social-handle">@twittalien</div></div></div></div>
          <div class="social-item"><div class="neon neon-greenblue"><div class="card-surface social-card"><img src="https://cdn-icons-png.flaticon.com/128/1384/1384060.png" alt="YouTube"><div class="social-handle">snchzbroz</div></div></div></div>
          <div class="social-item"><div class="neon neon-greenblue"><div class="card-surface social-card"><img src="https://cdn-icons-png.flaticon.com/128/15713/15713413.png" alt="Twitch"><div class="social-handle">snchzbroz</div></div></div></div>
          <div class="social-item"><div class="neon neon-greenblue"><div class="card-surface social-card"><img src="https://cdn-icons-png.flaticon.com/128/906/906325.png" alt="Xbox"><div class="social-handle">snchzbroz</div></div></div></div>
          <div class="social-item"><div class="neon neon-greenblue"><div class="card-surface social-card"><img src="https://cdn-icons-png.flaticon.com/128/6646/6646449.png" alt="Fortnite"><div class="social-handle">snchzbroz</div></div></div></div>
          <div class="social-item"><div class="neon neon-greenblue"><div class="card-surface social-card"><img src="https://cdn-icons-png.flaticon.com/128/871/871377.png" alt="Nintendo"><div class="social-handle">snchzbroz</div></div></div></div>
          <div class="social-item"><div class="neon neon-greenblue"><div class="card-surface social-card"><img src="https://cdn-icons-png.flaticon.com/128/15069/15069134.png" alt="Roblox"><div class="social-handle">snchzbroz</div></div></div></div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Video: marcar 'ready' al poder reproducirse
    const bg = document.getElementById('bgVideo');
    bg?.addEventListener('canplay', ()=> bg.classList.add('ready'));

    // Mensajes dinámicos cada 5 minutos
    const FOLLOWER_MESSAGES = [
      "¡El nuevo Bro! 🤩","¡Nuevo Bro en la casa! 🎉","¡Gracias por unirte al desmadre! 🙌","¡Bienvenid@ al team, Bro! 😎",
      "¡Un Bro más en el canal! 🥳","¡Ahora somos más Bros! 🔥","¡Nuevo Bro! ¡Qué locura! 🤯","¡Un Bro más a la cuenta! ✅",
      "¡Ahora eres un Bro de élite! 😎","¡Un nuevo Bro ha aparecido! 👾","¡Ahora si somos más fuertes! 💪",
    ];
    const GIFT_MESSAGES = [
      "¡Gracias por tu Oro! 🎁","¡Oro en la casa! ¡Gracias por el apoyo! 🙏","¡Qué buen regalo, muchas gracias! 🙏","¡Me has dejado sin palabras! ¡Gracias! 💖",
      "¡Tu generosidad es increíble! ¡Gracias! 💫","¡Gracias por ese detallazo! 🤩","¡Ese regalo me ha subido el stream de nivel! ¡Gracias! 🚀",
      "¡Estás echando la casa por la ventana! ¡Gracias! 🎉","¿De dónde sacas tanto dinero? ¡Gracias por el regalo, Bro! 💰",
      "¡Ojalá se me pegara un poco de tu generosidad! ¡Gracias! 😂","¡Gracias por ese regalo! ¡Con esto nos compramos la cena! 🍔",
    ];
    const SUB_MESSAGES = [
      "¡Bienvenido a la familia! 💖","¡El team SnchzBroz crece! ¡Bienvenido! 🥳","¡Gracias por unirte a la familia! 🥰","¡Un nuevo miembro en la SnchzBroz-familia! 💖",
      "¡Bienvenido al club! 😎","¡Ahora eres parte de los Bros! ¡Gracias! 🎉","¡Te has unido a los Bros de verdad! ¡Bienvenido! 😎",
      "¡Bienvenido al club! ¡Ahora no hay marcha atrás! 😜","¡Por fin has caído! ¡Bienvenido a la familia SnchzBroz! 💖",
      "¡Gracias por tu sub! ¡Ahora eres parte de la secta! 😈","¡Te has ganado mi respeto! ¡Bienvenido a la familia! 🥂",
    ];
    function rotateBadge(el, list){
      function pick(){ return list[Math.floor(Math.random()*list.length)]; }
      el.textContent = pick();
      setInterval(()=> el.textContent = pick(), 5*60*1000);
    }
    rotateBadge(document.getElementById('badge-follower'), FOLLOWER_MESSAGES);
    rotateBadge(document.getElementById('badge-gift'), GIFT_MESSAGES);
    rotateBadge(document.getElementById('badge-sub'), SUB_MESSAGES);

    // Registrar service worker para PWA (si es soportado)
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('./sw.js').catch(()=>{});
      });
    }
  </script>
</body>
</html>
